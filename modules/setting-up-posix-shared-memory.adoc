// Module included in the following assemblies:
//
// * nodes/containers/using-shared-memory.adoc

[id="setting-up-posix-shared-memory_{context}"]
= Setting up POSIX Shared Memory


The following procedure shows how to set up POSIX shared memory between two containers.

.Procedure

1. Create the pod YAML file and specify the tmpfs volume for each container, as shown in the `shared-memory.yaml` file.
+
====
.shared-memory.yaml
[source,yaml]
----
---
apiVersion: v1
id: hello-openshift
kind: Pod
metadata:
  name: hello-openshift
  labels:
    name: hello-openshift
spec:
  volumes:                          <1>
    - name: dshm
      emptyDir:
        medium: Memory
  containers:
    - image: kubernetes/pause
      name: hello-container1
      ports:
        - containerPort: 8080
          hostPort: 6061
      volumeMounts:                 <2>
        - mountPath: /dev/shm
          name: dshm
    - image: kubernetes/pause
      name: hello-container2
      ports:
        - containerPort: 8081
          hostPort: 6062
      volumeMounts:                 <3>
        - mountPath: /dev/shm
          name: dshm
----
<1> Specifies the tmpfs volume `dshm`.
<2> Enables POSIX shared memory for `hello-container1` using the ephemeral storage volume `dshm`.
<3> Enables POSIX shared memory for `hello-container2` using the ephemeral storage volume `dshm`.
====

2. Create the shared memory pod using the pod YAML file:
+
----
$ oc create -f shared-memory.yaml
----
